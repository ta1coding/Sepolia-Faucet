<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black Faucet</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="ico.png">
    <style>
        body {
            background: linear-gradient(135deg, #121212 0%, #1f1f1f 100%);
            color: #b0b0b0;
            padding-top: 20px;
            font-family: 'Arial', sans-serif;
            overflow-x: hidden;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        .card {
            margin-bottom: 20px;
            background: linear-gradient(145deg, #1a1a1a, #252525);
            border: none;
            border-radius: 15px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6), inset 0 0 8px rgba(255, 255, 255, 0.03);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 28px rgba(0, 0, 0, 0.7), inset 0 0 12px rgba(255, 255, 255, 0.05);
        }
        .card-header {
            font-weight: bold;
            background: linear-gradient(90deg, #2a2a3a, #3a3a4a);
            color: #d0d0d0;
            border-radius: 15px 15px 0 0 !important;
            padding: 15px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
        }
        .btn-primary {
            background: linear-gradient(45deg, #2a2a3a, #404055);
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            color: #c0c0c0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }
        .btn-primary:hover {
            background: linear-gradient(45deg, #404055, #2a2a3a);
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
            color: #d8d8d8;
        }
        .btn-success {
            background: linear-gradient(45deg, #2a3a2a, #3a4a3a);
            border: none;
            color: #c0c0c0;
            transition: all 0.3s ease;
        }
        .btn-success:hover {
            background: linear-gradient(45deg, #3a4a3a, #2a3a2a);
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
            color: #d8d8d8;
        }
        .btn-danger {
            background: linear-gradient(45deg, #3a2a2a, #4a3a3a);
            border: none;
            color: #c0c0c0;
            transition: all 0.3s ease;
        }
        .btn-danger:hover {
            background: linear-gradient(45deg, #4a3a3a, #3a2a2a);
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
            color: #d8d8d8;
        }
        .btn-warning {
            background: linear-gradient(45deg, #3a3a2a, #4a4a3a);
            border: none;
            color: #c0c0c0;
            transition: all 0.3s ease;
        }
        .btn-warning:hover {
            background: linear-gradient(45deg, #4a4a3a, #3a3a2a);
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
            color: #d8d8d8;
        }
        .admin-section {
            background: linear-gradient(145deg, #222222, #2c2c2c);
            border-left: 4px solid #4a3a4a;
            border-radius: 0 15px 15px 0;
            box-shadow: inset 0 0 8px rgba(74, 58, 74, 0.2);
        }
        #connectionStatus {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }
        .connected {
            background: linear-gradient(45deg, #2a3a2a, #3a4a3a);
            color: #d0d0d0;
        }
        .disconnected {
            background: linear-gradient(45deg, #3a2a2a, #4a3a3a);
            color: #d0d0d0;
        }
        #connectionStatus:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
        }
        h1 {
            color: #c0c0c0;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
            animation: fadeIn 1s ease-in;
        }
        .form-control {
            background: linear-gradient(145deg, #252525, #303030);
            border: 1px solid #404040;
            color: #b0b0b0;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .form-control:focus {
            background: linear-gradient(145deg, #303030, #353535);
            border-color: #4a4a4a;
            box-shadow: 0 0 8px rgba(74, 74, 74, 0.3);
            color: #d0d0d0;
        }
        .alert {
            background: linear-gradient(145deg, #252525, #303030);
            border: none;
            color: #b0b0b0;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }
        .alert-info {
            background: linear-gradient(145deg, #2a2a3a, #353545);
        }
        .alert-success {
            background: linear-gradient(145deg, #2a3a2a, #354535);
        }
        .alert-danger {
            background: linear-gradient(145deg, #3a2a2a, #453535);
        }
        .alert-warning {
            background: linear-gradient(145deg, #3a3a2a, #454535);
        }
        .nav-tabs .nav-link {
            color: #b0b0b0;
            background: linear-gradient(145deg, #1a1a1a, #252525);
            border: none;
            transition: all 0.3s ease;
        }
        .nav-tabs .nav-link.active {
            background: linear-gradient(145deg, #2a2a3a, #353545);
            color: #d0d0d0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }
        .nav-tabs .nav-link:hover {
            color: #d0d0d0;
            background: linear-gradient(145deg, #252525, #303030);
        }
        .tab-content {
            background: linear-gradient(145deg, #1a1a1a, #252525);
            border-radius: 0 0 15px 15px;
        }
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .card, .btn, #connectionStatus {
            animation: fadeIn 0.5s ease-in;
        }
        /* Remove number input arrows */
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield; /* Firefox */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center my-4">Black Faucet</h1>
        
        <div id="connectionStatus" class="disconnected">
            Not connected to Ethereum network. Click here to connect.
        </div>
        
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">Faucet Information</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <p><strong>Contract Address:</strong> <span id="contractAddress">-</span></p>
                                <p><strong>Faucet Balance:</strong> <span id="faucetBalance">-</span> Sepolia ETH</p>
                                <p><strong>NFT Contract Required:</strong> <span id="nftContractAddress">-</span></p>
                                <p><strong>Required Token ID:</strong> <span id="requiredTokenId">-</span></p>
                            </div>
                            <div class="col-md-6">
                                <p><strong>Claim Amount:</strong> <span id="claimAmount">-</span> Sepolia ETH</p>
                                <p><strong>Claim Cooldown:</strong> <span id="claimCooldown">-</span> hours</p>
                                <p><strong>Your Address:</strong> <span id="userAddress">-</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">Claim Sepolia ETH</div>
                    <div class="card-body">
                        <div id="claimStatus"></div>
                        <div class="mb-3">
                            <label class="form-label">Your Eligibility Status:</label>
                            <div id="eligibilityInfo" class="alert alert-info">
                                Connect your wallet to check eligibility
                            </div>
                        </div>
                        <button id="claimButton" class="btn btn-primary" disabled>Claim 0.3 Sepolia ETH</button>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">Donate to Faucet</div>
                    <div class="card-body">
                        <div id="donateStatus"></div>
                        <div class="mb-3">
                            <label for="donationAmount" class="form-label">Amount to Donate (ETH):</label>
                            <input type="number" class="form-control" id="donationAmount" min="0.001" step="0.001" value="0.1">
                        </div>
                        <button id="donateButton" class="btn btn-primary" disabled>Donate Sepolia ETH</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mt-4 admin-section" id="adminSection" style="display: none;">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">Admin Functions</div>
                    <div class="card-body">
                        <div id="adminStatus"></div>
                        <div id="notOwnerWarning" class="alert alert-warning" style="display: none;">
                            You are not the contract owner. Admin functions are disabled.
                        </div>
                        
                        <div id="adminFunctions" style="display: none;">
                            <ul class="nav nav-tabs" id="adminTabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link active" id="whitelist-tab" data-bs-toggle="tab" data-bs-target="#whitelist" type="button" role="tab">Whitelist Management</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="settings-tab" data-bs-toggle="tab" data-bs-target="#settings" type="button" role="tab">Contract Settings</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button class="nav-link" id="withdraw-tab" data-bs-toggle="tab" data-bs-target="#withdraw" type="button" role="tab">Withdraw</button>
                                </li>
                            </ul>
                            
                            <div class="tab-content p-3 border border-top-0 rounded-bottom" id="adminTabsContent">
                                <!-- Whitelist Management Tab -->
                                <div class="tab-pane fade show active" id="whitelist" role="tabpanel">
                                    <h4>Whitelist Management</h4>
                                    
                                    <div class="mb-3">
                                        <label for="checkWhitelistAddress" class="form-label">Check Whitelist Status:</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="checkWhitelistAddress" placeholder="Ethereum Address (0x...)">
                                            <button class="btn btn-outline-secondary" type="button" id="checkWhitelistButton">Check</button>
                                        </div>
                                        <div id="whitelistStatus" class="mt-2"></div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="whitelistAddress" class="form-label">Add/Remove Address:</label>
                                        <input type="text" class="form-control" id="whitelistAddress" placeholder="Ethereum Address (0x...)">
                                    </div>
                                    
                                    <div class="mb-3">
                                        <button id="addToWhitelistButton" class="btn btn-success me-2">Add to Whitelist</button>
                                        <button id="removeFromWhitelistButton" class="btn btn-danger">Remove from Whitelist</button>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="bulkWhitelistAddresses" class="form-label">Bulk Whitelist Management:</label>
                                        <textarea class="form-control" id="bulkWhitelistAddresses" rows="4" placeholder="Enter addresses separated by commas or newlines"></textarea>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <button id="bulkAddButton" class="btn btn-success me-2">Bulk Add</button>
                                        <button id="bulkRemoveButton" class="btn btn-danger">Bulk Remove</button>
                                    </div>
                                </div>
                                
                                <!-- Contract Settings Tab -->
                                <div class="tab-pane fade" id="settings" role="tabpanel">
                                    <h4>Contract Settings</h4>
                                    
                                    <div class="mb-3">
                                        <label for="newNftContract" class="form-label">Update NFT Contract Address:</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="newNftContract" placeholder="NFT Contract Address (0x...)">
                                            <button class="btn btn-primary" type="button" id="updateNftContractButton">Update</button>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="newRequiredTokenId" class="form-label">Update Required Token ID:</label>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="newRequiredTokenId" placeholder="Token ID" min="0" step="1">
                                            <button class="btn btn-primary" type="button" id="updateRequiredTokenIdButton">Update</button>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="newClaimAmount" class="form-label">Update Claim Amount (ETH):</label>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="newClaimAmount" min="0.001" step="0.001" value="0.3">
                                            <button class="btn btn-primary" type="button" id="updateClaimAmountButton">Update</button>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="newClaimCooldown" class="form-label">Update Claim Cooldown (hours):</label>
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="newClaimCooldown" min="1" step="1" value="24">
                                            <button class="btn btn-primary" type="button" id="updateClaimCooldownButton">Update</button>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="newOwnerAddress" class="form-label">Transfer Ownership:</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" id="newOwnerAddress" placeholder="New Owner Address (0x...)">
                                            <button class="btn btn-warning" type="button" id="transferOwnershipButton">Transfer</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Withdraw Tab -->
                                <div class="tab-pane fade" id="withdraw" role="tabpanel">
                                    <h4>Withdraw Funds</h4>
                                    
                                    <div class="alert alert-warning">
                                        <strong>Warning:</strong> This will withdraw funds from the faucet to the owner address.
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="withdrawAmount" class="form-label">Amount to Withdraw (ETH):</label>
                                        <input type="number" class="form-control" id="withdrawAmount" min="0.001" step="0.001">
                                    </div>
                                    
                                    <button id="withdrawButton" class="btn btn-danger">Withdraw ETH</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js" type="application/javascript"></script>
    <script src="faucet-abi.js"></script>
    <script src="app.js"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'92097e7b5dbfb050',t:'MTc0MjAxNTMxOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9209ce0a7e84b043',t:'MTc0MjAxODU3Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>